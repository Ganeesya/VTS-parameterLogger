# イントロダクション
VTS-parameterLogger は OBS の Luaスクリプト から VTubeStudio へパラメータの問い合わせを行い、  
バイナリ形式のモーションファイルにモデルの動きを録画するものです。  
このバイナリ形式のモーションファイルは [AviutlのLive2Dプラグイン](https://ganeesya.github.io/SupportPage/dl/Live2DDrawer/intro.html) で利用することを想定しています。

# 強み
通常のOBSの録画は VTubeStudio の映像とバックグラウンドの映像をまとめて録画されます。  
まとめられた動画では編集時にモデルの動きは録画時の動きから変更することができません。  
バックグラウンドと VTubeStudio の情報を分離して保存し、 VTubeStudio の映像をあとから加工できると編集時に動きを足したり表情を変えたりできます。  
バックグラウンドの動画はSourceRecordによって入力映像を保存することができます。  
このソフトウエアでは VTubeStudio の動きをパラメータとして記録し、あとから再利用できるようにします。

# 導入手順

## インストール

1. ダウンロードしたZipファイルを選択し、右クリックします。
1. メニューから「すべて展開」または「展開」を選択します。
1. 展開されたファイルの中から「obs-studio」フォルダを見つけます。
1. 「obs-studio」フォルダを選択し、Ctrl+Cを押してコピーします。
1. 「obs-studio」のインストールされたフォルダへ移動します。通常は「C:\Program Files」以下にあります。
1. インストールフォルダ内にて、Ctrl+Vを押して「obs-studio」フォルダをペーストします。
1. 既存の「obs-studio」フォルダと重ね合わせるか、または既存のフォルダを上書きするプロンプトが表示された場合は、それを承認します。

## OBSの設定

1. OBSプログラムを開きます。
1. メニューバーから「ツール」をクリックします。
1. ドロップダウンメニューから「スクリプト」を選択します。
1. スクリプトウィンドウが開きます。ここで「+」ボタンをクリックします。
1. ファイル選択ダイアログが開きます。ここで「C:\Program Files\obs-studio\data\obs-plugins\frontend-tools\scripts\saveParam.lua」へ移動し、ファイルを選択して「開く」をクリックします。この操作により、スクリプトがOBSに読み込まれます。
1. 読み込んだスクリプトの下部に「ファイルパス」という項目が表示されます。
1. 「ファイルパス」のテキストボックスに出力先のパスを入力します。このパスは、モーションファイルの出力先として使用されます。

# 利用方法

1. OBSでの録画または配信の開始：
    * OBSアプリケーションを開き、メイン画面から「録画開始」または「配信開始」ボタンをクリックしてください。
1. VTubeStudioでのプラグイン許可：
    * 初回に「parameterLogger」のVTubeStudioプラグインの使用を要求するダイアログが表示されます。  
    この要求に対して許可を出してください。

# MTBファイルの利用方法

* [AviutlのLive2Dプラグイン](https://ganeesya.github.io/SupportPage/dl/Live2DDrawer/intro.html)での利用
    * AviutlのプラグインのMTBモーションを利用することで動画内でモーションを利用できます。
* motion3.jsonへの変換
    * MTBファイルを公式のLive2Dで利用できるmotion3.jsonへ変換するソフトウェアを公開する予定です。

# MTBファイル仕様

[こちらの表を参照してください。](mtb_specs.md)

# 謝辞

VTubeStudio へのアクセスは Tom Farro さんの [VTS-Sharp](https://github.com/FomTarro/VTS-Sharp) を利用しています。  
素晴らしいライブラリを提供して頂いてありがとうございます。